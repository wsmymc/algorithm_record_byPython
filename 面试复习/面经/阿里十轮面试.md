 

## 写在前面

本人双非本科大三，专业是微电子科学与工程，学过一点点 Java，[项目]()是纯 CRUD [项目]()，未接触过 RPC [项目]()，下面是阿里四个部门的[面经]()，让大佬们见笑了

## 2.24 淘宝购物车预面 64 min (过)

1. 自我介绍

2. 学校的学习和实习的时间是怎么分配的?

3. 实习的[项目]()做了什么?遇到的难点?

4. 在实验室做的[项目]()遇到的难点?

5. JPA 和 MyBatis 的区别?讲一下对象字段映射的细节

6. MySQL 各种索引的一些差异

7. 什么是聚簇索引?什么是非聚簇索引?

   * 聚簇索引：索引顺序和物理顺序一致，找到索引，就找到相关的所有记录。因为物理顺序只有一个，所以一张表的聚簇索引也只有一个

     ```
     实际存储的循序结构与数据存储的物理机构是一致的，所以通常来说物理顺序结构只有一种，那么一个表的聚簇索引也只能有一个，通常默认都是主键，设置了主键，系统默认就为你加上了聚簇索引，当然有人说我不想拿主键作为聚簇索引，我需要用其他字段作为索引，当然这也是可以的，这就需要你在设置主键之前自己手动的先添加上唯一的聚簇索引，然后再设置主键，这样就木有问题啦。
     ```

   * 非聚蔟索引：

     ```
     非聚集索引并不是在物理上排列数据,即索引中的逻辑顺序并不等同于表中行的物理顺序,索引是指向表中行的位置的指针,这些指针本身是有序的,通过这些指针可以在表中快速定位数据。
     
     由于非聚集索引数据存储时无序的，所以在非聚集索引中指针包含数据行在数据页中的偏移量。即指针由 数据页 + 数据行偏移量 组成。
     ```

8. Innodb 是怎么保证崩溃恢复能力的?(两阶段日志提交)

   * 有binlog和redo log，两阶段日志提交

     ```
     其中，binlog 可以给备库使用，也可以保存起来用于恢复数据库历史数据。它是实现在 server 层的，所有引擎可以共用。redo log 是 InnoDB 特有的日志，用来支持 crash-safe 能力。
     
     一个事务的执行流程，你在最后三步可以看到，redo log 先 prepare 完成，再写 binlog，最后才进入 redo log commit 阶段。
     上述可以概括为两阶段提交
     
     具体：奔溃发生在binlog写完，redo log 还没有commit的情况：
     规则：
     1. 如果 redo log 里面的事务是完整的，也就是已经有了 commit 标识，则直接提交；
     2. 如果 redo log 里面的事务只有完整的 prepare，则判断对应的事务 binlog 是否存在并完整：
     a. 如果是，则提交事务；
     b. 否则，回滚事务。
     
     这里，时刻 B 发生 crash 对应的就是 2(a) 的情况，崩溃恢复过程中事务会被提交。
     ```

     

9. Innodb的优缺点?(围绕索引数展开讲)

   * 优点： 支持奔溃回复

10. 索引覆盖?回表?唯一索引?非唯一索引?最左原则?

11. explain 里面有哪些字段?

    * ```
      select_type : 查询类型，有简单查询、联合查询、子查询等
      key : 使用的索引
      rows : 扫描的行数
      id： 标识select所属的行，或者顺序
      table: 正在访问那个表
      type: MySQL用户手册上说这一列显示了“关联类型”，但我们认为更准确的说法是访问类型——换言之就是MySQL决定如何查找表中的行
      ```

12. 一个 SQL 查询很慢,从哪些地方进行优化?

    * 1. 切分查询，大查询切分成小查询
      2. 拆分Join。简单地，可以对每一 个表进行一次单表查询，然后将结果在应用程序中进行关联。

13. 自增 ID 和 UUID 的区别?(叶分裂)

    * 自增id有序，所以新添加的也是有序节点
    * UUID首先是无序的，插入时会有随机性，其次UUID一般长，在B+树中，会导致一个节点的索引（指针）太少，树的高度增加.在建立索引和基于索引进行查询时都存在性能问题。

14. 自增 ID 申请完了会发生什么事情?

    * ```
      MySQL自增id用完后，再次申请id，得到的值保持不变。插入数据会报主键冲突异常。
      MySQL InnoDB表未指定主键时，MySQL会指定一个row_id，如果row_id用完了，则会从头开始循环。从这点来说还是建议我们创建表的时候指定主键的，毕竟使用row_id会发生覆盖数据，导致原来的数据丢失，影响数据的可靠性。
      ```

15. 分库解决了什么问题?分表解决了什么问题?

    * ```
      1、随着单库中的数据量越来越大，相应的，查询所需要的时间也越来越多，相当于数据的处理遇到了瓶颈
      2、单库发生意外的时候，需要修复的是所有的数据，而多库中的一个库发生意外的时候，只需要修复一个库（当然，也可以用物理分区的方式处理这种问题）
      ```

16. 你觉得学 Java 需要具备哪些基本条件?哪些地方特别重要?

17. 七层网络模型

    * 物理层、数据链路层、网络、传输、会话、表示、应用

18. 为什么有了七层还有五层的概念?

    * 七层是理论，五层是实际

19. JVM 内存模型(概述)

20. 讲讲双亲委派,为什么?

21. 你觉得双亲委派这个名字有没有什么问题?你讲讲自己的理解

    * 双亲的双字有迷惑性，应该是父级委派

22. 打破双亲委派的例子,举个例子?怎么打破?

23. 你现在用什么 GC 收集器?

24. Eden 区的对象回收策略?

25. CMS 的 STW 情况?

26. CMS 什么情况会触发 Full GC?

27. 新对象一定会在新生代 new 出来么?

    * 未必，对象过大可能直接在永久代

28. Java8 有什么新的 GC [算法]()?

    * G1

29. 了解 G1 收集器么?

30. 考研么?为什么现在的实习想离职了?

31. Golang 和 Java 的区别?

32. 反问:有什么需要提高的?

## 2.25 淘宝购物车一面 50 min (过)

1. 上一次面试问了些什么问题?

2. 啥时候过来实习?

3. 挑一两个你实习或者[项目]()当中遇到的难题?讲一讲怎么解决的?

4. [项目]()当中的代码你有没有想过有一些地方可以优化?

5. 哪些情况会出现 OOM?

6. 堆中内存分配比例?

7. 新生代 GC 工作流程?

8. 为什么新生代年龄是 15 次进入老年代?

9. 大对象进入老年代,这个大对象是有多大?

   * ```
     虚拟机提供了一个-XX:PretenureSizeThreshold参数，令大于这个设置值的对象直接在老年代分配。这样做的目的是避免在Eden区及两个Survivor区之间发生大量的内存复制（复习一下：新生代采用复制算法收集内存）。
     所谓的大对象是指，需要大量连续内存空间的Java对象，最典型的大对象就是那种很长的字符串以及数组（笔者列出的例子中的byte[]数组就是典型的大对象）。大对象对虚拟机的内存分配来说就是一个坏消息（替Java虚拟机抱怨一句，比遇到一个大对象更加坏的消息就是遇到一群“朝生夕灭”的“短命大对象”，写程序的时候应当避免），经常出现大对象容易导致内存还有不少空间时就提前触发垃圾收集以获取足够的连续空间来“安置”它们。
     
     注意　PretenureSizeThreshold参数只对Serial和ParNew两款收集器有效，Parallel Scavenge收集器不认识这个参数，Parallel Scavenge收集器一般并不需要设置。如果遇到必须使用此参数的场合，可以考虑ParNew加CMS的收集器组合。
     ```

10. 怎么排查 OOM?

11. 你现在用过哪些中间件?

    * mysql & redis

12. RPC 了解么?

13. RPC 解决了现在的哪些问题?

14. 有没有想过把你的[项目]()改造成 RPC?

15. IOC 的初始化流程?

16. AOP是怎么和 IOC 做整合的?

17. 循环依赖怎么解决?

18. [项目]()怎么分层的?

19. JPA 和 MyBatis 做对象映射的区别?原理?

20. 数据库热点查询的数据,怎么做性能优化?

21. Innodb 的索引树数据结构?

22. 最左原则?

23. 有没有其他复杂的[项目]()?

24. 排查问题的手段,你目前知道哪些?

25. 讲讲你的优势?

## 3.04 钉钉一面 72 min (过)

1. 自我介绍
2. 介绍一下[项目]()和实习
3. 你对 RPC 的理解?
4. HTTP 和 RPC 的关系?区别?
5. RPC 的优点?
6. 任何一个请求过来都会打到注册中心么?
7. 关于[项目]()和实习的一些问题
8. HDFS 了解么?
9. Java 的流式处理了解么?
10. SpringMVC 处理请求的一个流程?
11. Servlet 的监听器和拦截器?
12. 有哪些方法可以拦截一个 HTTP 请求?
13. 关于接受请求的参数,你有没有一套自己总结的方法?
14. 在学校还做过哪些[项目]()?
15. 你觉得学 Java,最重要的是什么?
16. 你对 IOC 的理解?
17. AOP 的各种实现有什么差异?
18. 为什么会有多种代理的方式?
19. HTTPS 的秘钥交换过程?
20. 有中间人劫持则么办?
21. 双亲委派的理解?
22. 为什么有双亲委派?一定要遵循双亲委派么?
23. 怎么打破双亲委派?
24. 有一个线程要等待其他线程执行完再执行?
25. 有一个线程要等待其他线程都就绪再执行?
26. 顺序打印 ABC?
27. Innodb 索引的数据结构?为什么用 B+树?
28. 100 瓶药一瓶毒药.懂得都懂.
29. [海量数据]()取前 5.

## 3.04 业务中台一面 52 min (过)

1. 自我介绍
2. 有没有面其他的部门?
3. 介绍一下自己的实习[项目]()?
4. 关于[项目]()的一些问题
5. 你觉得实习做的事情还有没有什么可以优化的?
6. 为什么 TX 用 Golang?(我怎么知道?)
7. DNS 解析流程?
8. 怎样解析一个域名?解析一个域名需要哪些信息?
9. 为什么用 Nginx?
10. 你觉得 Nginx 在你的[项目]()中最大的作用是什么?
11. HTTPS 的秘钥交换过程?
12. 你觉得使用了 HTTPS 之后还会出现问题么?出现问题了怎么办?
13. 外挂的 Tomcat 和 SpringBoot 内嵌的 Tomcat 有什么区别?
14. Tomcat 的设计模式了解么?
15. SpringBoot 怎么调起Tomcat?
16. 你对 IOC 的理解?
17. 实际开发当中你哪些地方使用了 Bean 的前置后置处理器?
18. AOP 是怎么和 IOC 进行整合的?
19. Spring 怎么把 Java 对象初始化成 SpringBean 的?
20. HashMap 八股文讲讲?
21. 哪些情况下会产生 Full GC?
22. 方法区的大小怎么设置?
23. 栈大小怎么设置?
24. 你遇到过堆栈溢出的情况么?怎么解决的?
25. MySQl 主从集群怎么搞?
26. Binlog 有几种?区别是什么?

## 3.05 业务中台二面 75 min (过)

1. 面试官上来花了 10 分钟介绍了他们部门
2. 关于 Github 上面的[项目]()的问题(这个代码是大二上期写的)
3. [项目]()当中的数据库设计,你是怎么做的?
4. [项目]()怎么分层的?
5. 流量打到 SpringMVC 上面之后的处理流程?
6. 微信小程序登录的流程?
7. JS SDK 登录和后端请求微信服务器登录的区别?
8. 你觉得微信登录获得的 raw 信息可以被黑客劫持么?
9. 你使用过分表么?分库分表分别解决了什么问题?
10. 分表的时候,怎么设计主键?
11. 自己的[项目]()当中,用到自定义索引的情况?
12. 最左原则?联合索引?
13. 为什么会有最左匹配原则?(根据 B+树[排序]()规则去回答)
14. 为什么使用 B+树?回表?怎么减少回表?
15. 数据库的乐观锁和悲观锁?
16. 读锁和写锁的区别?
17. 假设现在有一个需求,需要在一个 for 循环里面连续 100 次去更新一个行记录,这个过程中会出现阻塞的情况?怎么使用编码的方式来规避这种情况?(手动继承 AQS)
18. 怎么关闭长事务?
19. 为什么想来阿里?
20. 微服务实例是怎么暂停的?了解么?
21. 关于实习和[项目]()的一些问题
22. 线程池 7 个参数的含义?
23. 线程池提交任务的流程?
24. 对分布式的了解有多少?

## 3.05 钉钉二面 50 min (过)

这轮面试忘了录音了,有些问题不记得了.

1. 关于[项目]()和实习的一些问题.
2. 一个分布式部署的[项目]()?至少需要哪些模块?
3. 任何一个流量打过来都会打到注册中心么?
4. 一个注册中心,至少需要具备哪些条件?
5. 有一大批流量总是被打到一个实例上面,这个实例的兄弟实例分到的流量很少,怎么办?
6. 有一个实例挂了怎么办?
7. 注册中心集群的时候,其中一个注册中心挂了怎么办?
8. 平时通过哪些渠道学习?
9. 看过哪些博客?
10. 你觉得[美团]()的博客上面有哪几篇对你帮助特别大?
11. 然后具体谈了谈这一篇博客
12. 你看视频一般在哪儿看?看那些类型的视频?
13. 能给我推荐一个关于技术的公众号么?
14. 你有看过阿里的一些技术博客么?你觉得他们写的博客对你有没有帮助?

剩下的八股文问题不记得了.....

## 3.05 淘宝购物车二面 60 min (过)

这一轮面试也忘了录音了....

1. 自我介绍
2. 关于[项目]()和实习的一些问题
3. HashMap put 里面已经有100000 个数据了,往里面 put 第 100001 个数据会不会扩容?
4. 你觉得采用[链表]()加[红黑树]()的组合方式之后解决了什么问题?
5. 那么多数据结构,为什么偏偏使用[红黑树]()?
6. [红黑树]()的平衡怎么做?
7. [链表]()转化成[红黑树]()的阈值怎么算出来的?
8. 为什么[红黑树]()缩回[链表]()的阈值和进化的阈值不一样?
9. 现在用编码的方式进行代码同步,有哪些方法?
10. 公平锁和非公平锁的实现(AQS 八股文)
11. volatile 的特性?
12. 一个 volatile 变量,一个线程写,多个线程读会不会出现线程不安全的问题?
13. IOC 的初始化流程?
14. Java 的类加载过程?
15. 为什么会有 TIMEWAIT这个状态?
16. 拥塞控制?流量控制?
17. 10000 亿条淘宝订单,每条订单当中包含了一个交易流水,流水里面有商品的 ID,有购买数量,同一个商品在这个订单会出现多次,现在要统计销量最好的 10 件商品.

能记起来的就这些.....

## 3.06 新零售场景金融一面 70 min (过)

1. 为什么不找硬件相关的实习来做软件?
2. 能给我介绍一下微电子科学与工程这个专业是干什么的么?
3. 你是怎么学习软件开发的这些东西?
4. 关于实习和[项目]()的问题
5. 讲讲面向对象的一些特性?
6. Java 7 大原则?
7. 面向过程和面向对象的区别?
8. 对象和类的关系?
9. Java 容器八股文
10. HashMap 八股文
11. 进程和线程的区别?
12. Java 创建线程的方式?
13. 线程池参数和任务提交到执行的过程?
14. 对于线程池参数的设定,你有没有自己的一套方案?
15. 代码的同步怎么做?
16. Java 的类加载过程?什么时候回触发到 Java 类的加载?什么时候回触发类的卸载?
17. 双亲委派?打破双亲委派?
18. 重载和重写在 JVM 层面是怎么鉴别的?
19. JVM当中的方法内联?
20. MySQL中的事务是怎么实现的?
21. 隔离级别的区别?都是怎么实现的?
22. 事务数组是什么?高水位指的是哪些?低水位指的是哪些?
23. Innodb 索引数据结构?阿巴阿巴
24. SQL 语句执行流程?分析器优化器执行器都是什么?
25. 回表?索引下推?
26. IOC 的初始化流程?
27. 为什么会有 SpringBoot 的出现?
28. 讲讲自动装配?
29. 你更倾向于 MyBatis 还是 JPA?
30. 这两个 ORM 的实现和区别?
31. 问[项目]()....
32. 问实习...
33. 你的大学生活,时间一般是怎样安排的?
34. 你觉得你自己的大学生活充实么?
35. 一般采用哪些方式学习?
36. B 端业务和 C 端业务你更倾向于哪种?

## 3.06 新零售场景金融二面 110 min (过)

1. 自我介绍
2. 本专业的成绩怎么样?
3. 挂过科么?为什么会挂科?能不能总结一下这一次挂科?
4. JVM内存模型概念?
5. 你对方法区/元空间的理解?
6. 堆中内存的分配?
7. 永久带会涉及到 GC 回收么?
8. 程序运行的时候,怎么监控内存使用情况?
9. 程序运行的时候,怎么看堆栈信息?
10. Java 类加载的过程?
11. 魔数是什么?
12. 为什么叫双亲委派?你有没有觉得这个名字怪怪的?
13. 在一个类中调用了另一个类的私有方法能不能通过编译?
14. ClassNotFoundException出现在哪些地方?
15. 假如说现在有一个 可执行的A.jar和 B.jar,他们都互相引用了对方,现在 B.jar 里面的某些类已经不在了,A还能启动么?
16. ldc,iconst,getstatic,ACC_FLAG 这几个指令都是什么意思?
17. IOC 的特性?你对 IOC 的理解?
18. 我们自己也可以实现 IOC 和 AOP,甚至是前置后置处理器,为什么还要用 Spring 提供的?
19. 怎样才能知道 Spring 的 IOC 容器已经完全初始化了?
20. 事件订阅的接口名字是什么?
21. 为什么我会问这个问题?为什么我们需要知道 Spring IOC 容器的初始化进度?
22. Spring 的后置处理器接口名字是什么?
23. AOP 和 IOC 的整合流程?
24. AOP 是怎么做动态代理的?
25. CGLIB 是怎么操作字节码的?
26. ASM 操作字节码的原理?
27. XML 的两种解析策略?两种有什么差异?
28. 线程池参数?
29. 任务提交到线程池之后会遇到哪些情况?
30. 用银行取钱的例子给我讲讲线程池?
31. sync 对应的字节码是什么?
32. sync 锁静态方法和非静态方法锁的分别是什么对象?
33. 为什么锁的对象不一样?
34. 为什么使用 Maven?
35. 一个 a.jar 引用了 c,版本是 1.0.0,b.jar 引用的 c 版本是 2.0.0,一个[项目]()当中同时依赖了a 和 b,这时候依赖的 c 版本是哪一个?为什么?
36. Maven 仲裁策略有几步?
37. 数据库的事务特性?
38. 隔离级别的差异?为什么会有这种差异?
39. 讲讲可重复读和读提交隔离级别和实现机制?
40. 什么是"当前读"?
41. 为什么[项目]()当中要使用缓存?
42. 为什么 Redis 这么快?
43. Redis的持久化机制?
44. 在生成 RDB 的过程当中,还能继续进行写入么?
45. 为什么 AOF 是数据先落盘再写日志?而数据库是先写日志再落盘?
46. 哨兵的选主策略?一个哨兵是怎么知道其他哨兵的存在的?
47. HashMap 八股文
48. [红黑树]()的特点?
49. 三次握手和四次挥手的过程?
50. TIMEWAIT 为什么要等待 2MSL?
51. 301 和 302 状态码的区别?
52. 磁盘调度[算法]()?
53. 操作系统死锁?
54. 进程和线程的区别?
55. 哪一种 IPC 最快?
56. 线程的几种状态?
57. 进程调度策略?
58. 三点十五分时针和分针的夹角?

## 3.07 业务中台三面 35min (过)

1. 自我介绍
2. 问[项目](),问实习
3. 你在[项目]()当中担任的角色?
4. 你觉得 TX 的氛围怎么样?
5. 你一般几点走?
6. 那边加班严重么?
7. RPC 调用过程中,现在要在消费者这一端配置某种调用超时之后的服务,怎么才能判断是否已经超时呢?
8. 关于超时时间的设定,怎么设置呢?
9. 有几种超时的情况?对应不同的情况你会怎么办?
10. 301 和 302 状态码的区别?
11. HTTP 和 RPC 的关系?
12. 哪里人?平时怎么学习？
13. 你对 B 端和 C 端业务的看法?

## 写在最后

最后决定走新零售场景金融的流程了，淘宝购物车最后还差一个大老板面，钉钉差笔试和交叉，业务中台差笔试和交叉，这些面试都必须进入流程之后才能继续，面不动了，所以后面约的面试都拒了。。希望场景金融后面的面试不会出什么幺蛾子吧。。。。

面试的时候尽量追求实事求是，千万不要想着打面试官的马虎眼，有些东西没做过就是没做过
这次面试面试官帮我回忆了一下我大一大二都在干些什么？
特别是面试官问我大学生活充不充实哪里，真的是感慨特别深
我的大学就是四六级都没考过，补考挂科重修全部经历了一遍，比赛也没参加过，一个奖都没有。。。
交叉面[面经]()后面补。。。。

- [实习]()
- [面经]()
- [阿里巴巴]()
- [Java工程师]()

- 